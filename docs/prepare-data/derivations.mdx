---
title: Derivations
---

import {
  FaPlus,
} from 'react-icons/fa'

import Button from '../../components/button'
import Image from '../../components/image'

To use certain features, you first need to prepare Conveyal-specific data by deriving them from your [Data Sources](/prepare-data/). Available derivations include:
* Polygon Shapefile â†’ Aggregation Area 

## Aggregation Areas
Aggregation areas are used to [summarize regional analysis results](/analysis/regional#measuring-aggregate-accessibility). To create an aggregation area, use the [Data Sources](/prepare-data) panel to upload and process a polygon shapefile. Options to create aggregation areas from other spatial data source formats (e.g. geopackage and GeoJSON files) may be added in future releases.

To upload a shapefile in the Data Sources panel, click <Button variantColor='green'><FaPlus /> Upload new data source</Button>. 

Then, provide a name and select all components: .shp, .dbf, .shx, and .prj files. To derive an aggregation area from a shapefile, it must fit within a bounding box smaller than 975,000 sq. km, must not have any feature with area exceeding 2 square degrees, and should preferably use unprojected WGS84 coordinates. 

<Image alt='Data source upload form' src='/img/data-source-upload.png' />

To convert an uploaded shapefile to an aggregation area, click <Button variantColor='green'><FaPlus /> Derive new aggregation area(s)</Button>. 

In the pop-up "Create aggregation area(s)" form, the Zoom can be left at the default value or set to the [zoom level](/analysis/methodology#spatial-resolution) of the regional analysis with which you want to use the aggregation area. If you leave **Dissolve all features to single area** toggled on, all features of the selected polygon data source will be merged to a single aggregation area. If you switch this setting off, each feature of the data source will be a separate aggregation area, and you will need to select an attribute to name them. For example, if you want to report a project's change in accessibility for each city council district, and you have a shapefile of with each district's name in a column "CD_Id," you would toggle this setting off and select "CD_Id" as the attribute.

<Image alt='Aggregation area creation form' src='/img/derive-aggregation-area.png' />

Once you have successfully created an aggregation area, you can select it when viewing the results of a [regional analysis](/analysis/regional#measuring-aggregate-accessibility).
